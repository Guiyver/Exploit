getgenv().InfiniteJumpOn = true
getgenv().InfiniteJumpHeight = 50


local Character = Player.Character or Player.CharacterAdded:Wait()
Player.CharacterAdded:Connect(function(v) Character = v end)
local UIS = game:GetService("UserInputService")

local function Action(Object, Function) if Object ~= nil then Function(Object) end end
--Button Activate
UIS.InputBegan:connect(function(UserInput,gameProcessed)
    if InfiniteJumpOn and UserInput.KeyCode == Enum.KeyCode.Space then
        Action(Character.Humanoid, function(self)
            if self:GetState() == Enum.HumanoidStateType.Jumping or self:GetState() == Enum.HumanoidStateType.Freefall then
                Action(self.Parent.HumanoidRootPart, function(self)
                    self.Velocity = Vector3.new(0, InfiniteJumpHeight, 0)
                end)
            else
                pcall(function()
                    if Character.Humanoid.JumpPower <= 5 then
                        Action(self.Parent.HumanoidRootPart, function(self)
                            self.Velocity = Vector3.new(0, InfiniteJumpHeight, 0)
                        end)
                    end
                end)
            end
        end)
    end
end)
