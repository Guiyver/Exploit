if _G.QeIAvfMGdZxJepfeF8Nu8Lzd4cuIjAo == "QeIAvfMGdZxJepfeF8Nu8Lzd4cuIjAo" then return end _G.QeIAvfMGdZxJepfeF8Nu8Lzd4cuIjAo = "QeIAvfMGdZxJepfeF8Nu8Lzd4cuIjAo"

--Variables
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
Player.CharacterAdded:Connect(function(v) Character = v end)
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local Systems = ReplicatedStorage:WaitForChild("Systems")
local Combat = Systems:WaitForChild("Combat")

local PlayerAttack = Combat:WaitForChild("PlayerAttack")
local Pickup = Systems:WaitForChild("Drops"):WaitForChild("Pickup")
local Drops = ReplicatedStorage:WaitForChild("Drops")
local Mobs = workspace:WaitForChild("Mobs")

local NoClip = false
local AutoFarmOn = false
local CameraOn = false
local TweenService = nil

local Speed = Character:WaitForChild("Humanoid").WalkSpeed
local OriginalSpeed = tonumber(Speed)

--Funcs
local function GetAutoFarmPosition()
    if AutoFarmPosition == "Over" then
        CFrame1 = 0
        CFrame2 = AutoFarmDistance
        CFrame3 = 0
        CFrameAngle1 = -90
        CFrameAngle2 = 0
        CFrameAngle3 = 0
    elseif AutoFarmPosition == "Under" then
        CFrame1 = 0
        CFrame2 = -AutoFarmDistance
        CFrame3 = 0
        CFrameAngle1 = 90
        CFrameAngle2 = 0
        CFrameAngle3 = 0
    elseif AutoFarmPosition == "Behind" then
        CFrame1 = 0
        CFrame2 = 0
        CFrame3 = AutoFarmDistance
        CFrameAngle1 = 0
        CFrameAngle2 = 0
        CFrameAngle3 = 0
    elseif AutoFarmPosition == "Front" then
        CFrame1 = 0
        CFrame2 = 0
        CFrame3 = -AutoFarmDistance
        CFrameAngle1 = 0
        CFrameAngle2 = 3.1
        CFrameAngle3 = 0
    elseif AutoFarmPosition == "Stand" then
        CFrame1 = 0
        CFrame2 = 0
        CFrame3 = -AutoFarmDistance
        CFrameAngle1 = 0
        CFrameAngle2 = 0
        CFrameAngle3 = 0
    elseif AutoFarmPosition == "GuardBack" then
        CFrame1 = 0
        CFrame2 = 0
        CFrame3 = AutoFarmDistance
        CFrameAngle1 = 0
        CFrameAngle2 = 3.1
        CFrameAngle3 = 0
    elseif AutoFarmPosition == "Platform" then
        CFrame1 = 0
        CFrame2 = -AutoFarmDistance
        CFrame3 = 0
        CFrameAngle1 = 0
        CFrameAngle2 = 0
        CFrameAngle3 = 0
    end
end

local function tween(target)
    GetAutoFarmPosition()
    target = target*CFrame.new(CFrame1,CFrame2,CFrame3) * CFrame.Angles(math.rad(CFrameAngle1), (CFrameAngle2), (CFrameAngle3))
    TweenService = game:GetService("TweenService"):Create(Character.HumanoidRootPart, TweenInfo.new(Player:DistanceFromCharacter(target.Position)/AutoFarmSpeed, Enum.EasingStyle.Linear), {CFrame = target})
    if AutoFarmOn then
        TweenService:Play()
        local timerdone = false
        task.spawn(function()
            task.wait(Player:DistanceFromCharacter(target.Position)/AutoFarmSpeed or not AutoFarm)
            timerdone = true
        end)
        local currentcharacter = Character
        while AutoFarmOn and currentcharacter and timerdone == false do
            task.wait()
        end
    end
end
local function GetDistanceFromCharacter(Object)
    assert(Object:IsA("Model") or Object:IsA("BasePart"), "Script broke, this shouldn't have happened.")
    if not Character or not Character:FindFirstChild("HumanoidRootPart") then print("Can't find character.") return end
    local Position = Object:IsA("Model") and Object:GetPivot().Position or Object.Position
    return (Position - Character.HumanoidRootPart.Position).Magnitude
end

local function Attack(Mob)
    PlayerAttack:FireServer({Mob})
end

--Get rid of clutter
workspace.ChildAdded:Connect(function(Child)
    if Child:IsA("Part") and (Child.Name == "Part" or Child.Name == "DamageNumber") then
        task.wait()
        task.spawn(Child.Destroy, Child)
    end
end)

workspace.Effects.ChildAdded:Connect(function(Child)
    if Child.Name == "HitEffect" then
        task.wait()
        task.spawn(Child.Destroy, Child)
    end
end)

for _,v in next, getgc(true) do if typeof(v) == "table" and rawget(v, "ShowDamageNumber") then rawset(v, "ShowDamageNumber", function()end) end end

task.spawn(function()
    local numberofattacks = 0
    task.spawn(function()
        while task.wait(1) do
            numberofattacks = 0
        end
    end)
    while true do
        if KillAura then
            for _,v in pairs(Mobs:GetChildren()) do
                if numberofattacks < MaxHitsPerSecond then
                    if v:IsA("Model") and GetDistanceFromCharacter(v) < MaxDistance then
                        numberofattacks += 1
                        Attack(v)
                    end
                end
            end
        end
        task.wait()
    end
end)
task.spawn(function()
    -- Auto pickup
    while true do
        if AutoPickUp then
            for i,v in pairs(Drops:GetChildren()) do
                if v:IsA("Folder") then
                    Pickup:FireServer(v)
                end
            end
        end
        task.wait(1)
    end
end)
task.spawn(function()
    --AutoFarm
    while true do
        if AutoFarm then
            local closestenemy = nil
            for _,v in pairs(Mobs:GetChildren()) do
                if v:IsA("Model") then
                    local enemyonlist = false
                    for _,tablenames in pairs(AutoFarmList) do
                        if v.Name:match(tablenames) then
                            enemyonlist = true
                            break
                        end
                    end
                    if enemyonlist then
                        if closestenemy then
                            if GetDistanceFromCharacter(closestenemy) > GetDistanceFromCharacter(v) then
                                closestenemy = v
                            end
                        else
                            closestenemy = v
                        end
                    end
                end
            end
            if closestenemy then
                print(1)
                if closestenemy:FindFirstChild("HumanoidRootPart") then
                    print(2)
                    if Character then
                        print(3)
                        if Character:FindFirstChild("HumanoidRootPart") then
                            print(4)
                            print("Teleport Attempted")
                            Character.HumanoidRootPart.CFrame = closestenemy.HumanoidRootPart.CFrame
                        end
                    end
                end
            end
        end
        task.wait()
    end
end)
